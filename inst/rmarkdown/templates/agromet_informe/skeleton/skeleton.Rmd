---
titulo: "Título"
titulo_corto: "Título corto"
isbn: "ISSN 1853-4902"
fecha: "`r Sys.Date()`"
volumen: 1
numero: 1
contacto: 
  - "Instituto de Clima y agua - INTA Castelra: climayagua.inta.gob.ar "
  - "Consultas o sugerencias: iclimayagua.infclima@inta.gov.ar"
resumen: "Resumen muy resumido"
encabezado: "Instituto de Clima y Agua"
logo_izquierdo: "imagenes/logo-inta.png"
logo_derecho: "imagenes/logo-clima-y-agua.png"
knit: agromet::knitr_agromet
output: 
  agromet::agromet_informe:
    toc: true
    keep_tex: false
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE,
  fig.path = "figuras/",
  dpi = 300,
  out.extra = "",
  dev = c("pdf", "png")
)
library(agromet)   
library(tidyverse) 
library(kableExtra)
```

## Resumen

Este es el resumen

```{r, fig.cap = "persion2", fig.height = 4, fig.pos="H"}
plot(pressure)
```



## Evolución de as condiciones meteorológicas 

A continuación se muestra el uso de algunas funciones. Podés encontrar más ejemplos y usos de las funciones en [acá va el link a la viñeta]

Si se quieren utilizar los datos con formato NH se puede utilizar la función `leer_nh()` y opcionalmente acceder a sus metadatos con `metadatos_nh()`.

```{r lectura}
archivo <- system.file("extdata", "NH0358.DAT", package = "agromet")

datos <- leer_nh(archivo)
```


### Mapear 

```{r temperaturas, out.width="45%", fig.align='center', fig.pos="H", fig.show="hold", fig.subcap=c("Temperatura máxima", "Temperatura mínima"), fig.cap = "Temperatura"}
# Genero datos aleatorios 
set.seed(934)
datos_aleatorios <- metadatos_nh() %>% 
  mutate(t_max = rnorm(n(), mean = (lat - min(lat)) + 10, sd = 10),
         t_min = rnorm(n(), mean = (lat - min(lat)), sd = 10))

datos_aleatorios %>% 
  with(mapear(t_max, lon, lat, cordillera = TRUE,
              escala = escala_temp_max,
              variable = "ºC",
              fuente = "Fuente: datos de ejemplo"))

datos_aleatorios %>% 
  with(mapear(t_min, lon, lat, cordillera = TRUE,
              escala = escala_temp_min,
              variable = "ºC", fuente = "Fuente: datos de ejemplo"))
```


La función `mapear()` grafica una variable dada en puntos discretos e irregulares (en general observaciones o datos derivados de estaciones meteorológicas) utilizando kriging. Se puede definir el título y epígrafe y opcionamente se puede incluir la cordillara para enmascarar la variable a graficar.



\begin{minipage}{.5\textwidth}
```{r}
datos_aleatorios %>% 
  slice_max(t_max, n = 10) %>% 
  select(nombre, t_max) %>% 
  kable_inta(caption = "Extremos de temperatura máxima",
             col.names = c("Ciudad", "Tempreatura Máxima (ºC)")) %>% 
  kable_styling(latex_options = "scale_down")
```
\end{minipage}
\begin{minipage}{.5\textwidth}
```{r}
datos_aleatorios %>% 
  slice_min(t_min, n = 10) %>% 
  select(nombre, t_min) %>% 
  kable_inta(col.names = c("Ciudad", "Tempreatura Mínima (ºC)"),
             caption = "Extremos de temperatura mínima") %>% 
  kable_styling(latex_options = "scale_down")
```
\end{minipage}


